{"version":3,"sources":["components/Search.js","components/Button.js","components/Nav.js","components/Label.js","components/Image.js","components/Card.js","validators/validator.js","components/Home.js","components/ShowImage.js","components/App.js","index.js"],"names":["Search","useState","inputText","setInputText","history","useHistory","searchImage","e","fetchImages","queryStr","a","axios","get","result","status","push","pathname","state","images","data","key","length","toUpperCase","slice","toLowerCase","target","classList","contains","parentNode","className","onClick","type","placeholder","onChange","value","onKeyDown","Button","props","onMouseOver","showBtn","onMouseOut","hideBtn","style","display","mouseOver","action","forceDownload","download","downloadLoc","href","content","Nav","isMouseOver","setMouseHovered","isMobileDevice","useMediaQuery","query","cursor","media","srcSet","src","alt","showCard","Label","showLabel","hideLabel","imgLabel","Image","isMouseHovered","handleIn","handleOut","customStyle","filter","width","objectFit","background","position","id","results","imageReceived","_id","imgSrc","img_url","label","fetchData","imageid","hidebtn","showDeleteCard","pageY","Card","firstInput","secondInput","ref","useRef","updateText","name","prevValue","postContent","routeToPostTo","contentToPost","post","qs","stringify","then","response","console","log","window","location","catch","err","validateContent","contentType","toast","error","hideProgressBar","pauseOnHover","autoClose","str","validUrl","isUri","image_url","checkUrlisValid","checkPassword","imageId","useEffect","document","addEventListener","closeCard","removeEventListener","current","closeDiv","heading","closeButton","label1","inputType1","placeholder1","required","showSecondInput","label2","inputType2","placeholder2","btnClass","btnTitle","closest","Home","defaults","baseURL","activeCard","setActiveCard","imageToDeleteId","setImageToDeleteId","setImages","distFromTop","setDistanceFromTop","searchReceived","setSearchReceived","handleMouseIn","handleMouseOut","yPos","passedId","hideCard","createImage","image","map","showDiv","top","ShowImage","activeImage","setActiveImage","add","remove","App","exact","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ffd79451.chunk.js","sourcesContent":["import React from 'react';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport axios from 'axios';\r\nimport { useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\n\r\nconst Search = () => {\r\n    const [inputText, setInputText] = useState(\"\");\r\n    const history = useHistory();\r\n    // 1. get list of available labels\r\n    // 2. when one in list is clicked, return the display of all the ones that matched in DB \r\n    \r\n    const handleChange = (e) => { setInputText(e.target.value); }\r\n\r\n    const searchImage = (e) => {\r\n        async function fetchImages(queryStr){\r\n            const result = await axios.get(`/images/s/image/${queryStr}`);\r\n            if (result.status === 200){\r\n                history.push({pathname: \"/\", state: {images: result.data } });\r\n            };\r\n        };\r\n\r\n        if ((e.key === \"Enter\") && (inputText.length > 0) ){\r\n            const formattedInputText = inputText[0].toUpperCase() + inputText.slice(1, inputText.length).toLowerCase();\r\n            fetchImages(formattedInputText);\r\n        }else if( (e.target.classList.contains(\"search-icon\") || e.target.parentNode.classList.contains(\"search-icon\")) && inputText.length !== 0 ){\r\n            const formattedInputText = inputText[0].toUpperCase() + inputText.slice(1, inputText.length).toLowerCase();\r\n            fetchImages(formattedInputText);\r\n        };\r\n\r\n    };\r\n\r\n    return <div className=\"search-box-container\">\r\n        <div className=\"search-box\">\r\n            <SearchIcon className=\"search-icon\" onClick={searchImage} />\r\n            <input type=\"text\" placeholder=\"Search by name\" onChange={handleChange} value={inputText} onKeyDown={searchImage}></input>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\n\r\nconst Button = (props) => {\r\n\r\n    return <button \r\n    className={props.className} \r\n    onMouseOver={props.showBtn} \r\n    onMouseOut={props.hideBtn} \r\n    style={{display: props.mouseOver ? \"block\": \"none\"}}\r\n    onClick={props.action}\r\n    >\r\n        {props.forceDownload ? \r\n        <a download={props.downloadLoc} href={props.downloadLoc} target={props.target}> {props.content} </a> : \r\n        <p>{props.content}</p>}\r\n    </button>\r\n}\r\n\r\nexport default Button;","import React from 'react';\r\nimport Search from \"./Search\";\r\nimport Button from \"./Button\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useState } from \"react\";\r\n\r\nconst Nav = (props) => {\r\n    const [isMouseOver, setMouseHovered] = useState(false);\r\n\r\n    const handleIn = () =>{setMouseHovered(true)};\r\n    const handleOut = () =>{setMouseHovered(false)};\r\n\r\n\r\n    const isMobileDevice = useMediaQuery({query: \"(max-width: 767px)\"});\r\n    const history = useHistory();\r\n\r\n    const routeToHome = () => {history.push(\"/\")}\r\n\r\n    return (\r\n        <nav>\r\n            <div className=\"header-box\">\r\n                <header>\r\n                    <picture style={{cursor: isMouseOver ? \"pointer\": \"default\"}} onClick={routeToHome} onMouseOver={handleIn} onMouseOut={handleOut}>\r\n                        <source media=\"(max-width: 767px)\" srcSet=\"images/my_unsplash_small_logo.svg 13x\" />\r\n                        <source media=\"(min-width: 768px)\" srcSet=\"images/my_unsplash_logo.svg\" />\r\n                        <img src=\"images/my_unsplash_logo.svg\" alt=\"Unsplash logo\" />\r\n                    </picture>\r\n\r\n                </header>\r\n                <Search />\r\n            </div>\r\n            <Button className=\"add-btn green-btn\" content={isMobileDevice ? \"+\": \"Add a photo\"} mouseOver={true} action={props.showCard} />\r\n        </nav>\r\n\r\n        \r\n    );\r\n\r\n};\r\n\r\nexport default Nav;","import React from 'react';\r\n\r\nconst Label = (props) => {\r\n    return <div style={{display: props.mouseOver ? \"block\": \"none\"}} className=\"image-label\" onMouseOver={props.showLabel} onMouseOut={props.hideLabel}>\r\n        <p>{props.imgLabel}</p>\r\n    </div>\r\n}\r\n\r\nexport default Label;","import React from 'react';\r\nimport { useState } from \"react\";\r\nimport Label from \"./Label\";\r\nimport Button from \"./Button\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst Image = (props) => {\r\n    const [isMouseHovered, setMouseHovered] = useState(false);\r\n    \r\n    const handleIn = () => { setMouseHovered(true); }\r\n    const handleOut = () => { setMouseHovered(false); }\r\n\r\n    const history = useHistory();\r\n\r\n    const showImage = () => {\r\n        async function fetchData() {\r\n            const results = await axios.get(`/images/image/${props.id}`)\r\n            if (results.status === 200) {\r\n                const imageReceived = results.data;\r\n                history.push({pathname: `/images/image/${imageReceived._id}`, state: {imgSrc: imageReceived.img_url, label: imageReceived.label} });\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n        \r\n    }\r\n\r\n    const customStyle = {\r\n        filter: isMouseHovered ? \"brightness(50%)\" : \"brightness(100%)\",\r\n        cursor : isMouseHovered ? \"zoom-in\" : \"default\",\r\n        width : \"100%\",\r\n        objectFit: \"cover\",\r\n        background: isMouseHovered ? \"linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7))\": \"transparent\"\r\n    }\r\n\r\n    return <figure style={{position: \"relative\"}}>\r\n        <img \r\n            className=\"image\" \r\n            src={props.src} \r\n            alt={props.alt} \r\n            style={customStyle}\r\n            onMouseOver={handleIn} \r\n            onMouseOut={handleOut}\r\n            onClick={showImage}    \r\n        />\r\n        \r\n        <Label mouseOver={isMouseHovered} showLabel={handleIn} hideLabel={handleOut} imgLabel={props.imgLabel}/>\r\n        <Button className=\"delete-btn\" content=\"Delete\" imageid={props.id} mouseOver={isMouseHovered} showBtn={handleIn} hidebtn={handleOut} action={(e) =>{ props.showDeleteCard(e.pageY - 20, props.id) }}/>\r\n    </figure> \r\n    \r\n}\r\n\r\nexport default Image;","import React, { useRef, useEffect } from 'react';\r\nimport { useState } from \"react\";\r\nimport Button from \"./Button\";\r\nimport axios from \"axios\";\r\nimport qs from \"qs\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {checkEmptyString, checkUrlisValid, checkPassword} from '../validators/validator';\r\n\r\nconst Card = (props) => {\r\n    const routeToHome = () => { window.location = \"/\"; }    // redirect back to homepage( though remember you didn't use useHistory hook here. :( )\r\n\r\n    const [inputText, setInputText] = useState({firstInput: \"\", secondInput: \"\" });\r\n\r\n    const ref = useRef(null);\r\n\r\n    const updateText = (e) => { // update input text\r\n        const {name, value} = e.target;\r\n        setInputText(prevValue=>{\r\n            return{ ...prevValue, [name]: value }\r\n        });\r\n    };\r\n        \r\n    const postContent = (routeToPostTo, contentToPost) => {    // to post content using axios\r\n        axios.post(routeToPostTo, qs.stringify(contentToPost))\r\n        .then((response)=>{\r\n            console.log(response);\r\n            routeToHome();\r\n        })\r\n        .catch((err)=>{console.log(err)});\r\n    };\r\n\r\n    const validateContent = (contentType) => { // function to validate the content that's inputted before it's posted\r\n        \r\n        if (contentType === \"newContent\") { // add a new image\r\n            if (!(checkEmptyString(inputText.firstInput)) && (checkUrlisValid(inputText.secondInput))){\r\n                postContent(\"/add\", inputText);\r\n            }else{\r\n                toast.error(\"Please enter a valid URL\", {position: \"top-center\", hideProgressBar: true, pauseOnHover:false, autoClose:3000})\r\n            };\r\n        } else if (contentType === \"deleteContent\") {   // delete an image\r\n            if (checkPassword(inputText.firstInput)){\r\n                postContent(\"/delete\", {id: props.imageId});\r\n            }else{\r\n                toast.error(\"Password is: password123\", {position: \"top-center\", hideProgressBar: true, pauseOnHover:false, autoClose:3000})\r\n            };\r\n        }\r\n        \r\n    };\r\n\r\n    const performAction = (e) => {  // validate content before posting\r\n        if(e.target.closest(\"button\").classList.contains(\"green-btn\")){   // green button: for adding new images\r\n            validateContent(\"newContent\");\r\n        }else{  // for deleting an image\r\n            validateContent(\"deleteContent\");\r\n        };\r\n    };\r\n\r\n    useEffect(() => {   // adding an eventlistener to detect clicks\r\n        document.addEventListener('click', closeCard, true);\r\n        return () => {\r\n            document.removeEventListener('click', closeCard, true);\r\n        };\r\n    });\r\n\r\n    const closeCard = (e) => {  // close this component\r\n        if ( (e.key === \"Escape\") || ( ref.current && !ref.current.contains(e.target) ) ) {\r\n            props.closeDiv();   \r\n        };\r\n    };\r\n\r\n    return <div className={props.className} style={props.customStyle} onKeyDown={closeCard} ref={ref}>\r\n        <h1>{props.heading}</h1>\r\n        <ToastContainer className=\"error-message\" autoClose={false} position=\"top-center\" closeButton={false} />\r\n        <label>\r\n            {props.label1}\r\n            <input type={props.inputType1} name=\"firstInput\" placeholder={props.placeholder1} required={true} value={inputText.firstInput} onChange={updateText} />\r\n        </label>\r\n        \r\n        <label style={{display: props.showSecondInput ? \"block\" : \"none\"}}>\r\n            {props.label2}\r\n            <input style={{display: props.showSecondInput ? \"block\" : \"none\"}} type={props.inputType2} name=\"secondInput\" placeholder={props.placeholder2} required={true} value={inputText.secondInput} onChange={updateText}/>\r\n        </label>\r\n        <div className=\"btns-container\">\r\n            <Button className=\"cancel-btn\" mouseOver={true} content=\"Cancel\" action={props.closeDiv}/>\r\n            <Button className={props.btnClass + \" submit-btn\"} mouseOver={true} content={props.btnTitle} action={performAction}/>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default Card;","import { toast } from 'react-toastify';\r\nimport validUrl from 'valid-url';\r\n\r\nfunction checkEmptyString(str) {    // check that a label was entered\r\n    if (str === \"\") {\r\n        return toast.error(\"Please enter a label\", {position: \"top-center\", hideProgressBar: true, pauseOnHover:false, autoClose:4000});\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction checkUrlisValid(str) { // check validity of the url entered\r\n    if (validUrl.isUri(str)){\r\n        const image_url = new Image();  // creating a new image object to verify that the url is an actual image\r\n        image_url.src = str;\r\n        if (image_url.width > 0){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        };\r\n    }else{\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction checkPassword(str) {   // check password match\r\n    if (str === \"password123\") {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport {checkEmptyString, checkUrlisValid, checkPassword};","import React from 'react';\r\nimport Nav from \"./Nav\";\r\nimport Image from \"./Image\";\r\nimport Card from \"./Card\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n\r\nconst Home = (props) => {\r\n  axios.defaults.baseURL = \"https://my-unsplash-clone-app.herokuapp.com/\";\r\n\r\n  const [isMouseHovered, setMouseHovered] = useState(false);\r\n  const [activeCard, setActiveCard] = useState(\"none\");\r\n  const [imageToDeleteId, setImageToDeleteId] = useState(\"\");\r\n  const [images, setImages] = useState([]);\r\n  const [distFromTop, setDistanceFromTop] = useState(0);\r\n  const [searchReceived, setSearchReceived] = useState(false);\r\n\r\n  const handleMouseIn = () => { setMouseHovered(true); }\r\n\r\n  const handleMouseOut = () => { setMouseHovered(false); }\r\n\r\n  const showAddCard = () => { setActiveCard(\"add\"); }\r\n\r\n  const showDeleteCard = (yPos, passedId) => {\r\n    setImageToDeleteId(passedId);\r\n    setDistanceFromTop(yPos);\r\n    setActiveCard(\"delete\");\r\n  }\r\n\r\n  const hideCard = () => { setActiveCard(\"none\"); }\r\n\r\n  const createImage = (image) => {\r\n    return <div className=\"image-box\" key={image._id}>\r\n          <Image id={image._id}\r\n            src={image.img_url} \r\n            alt={image.label}\r\n            imgLabel={image.label}\r\n            mouseOver= {isMouseHovered}\r\n            handleIn= {handleMouseIn}\r\n            handleOut={handleMouseOut}\r\n            showDeleteCard={showDeleteCard}\r\n          />\r\n    </div>\r\n  };\r\n\r\n  useEffect(() =>{\r\n    async function fetchData() {\r\n      const results = await axios.get(\"/images/all\");\r\n      setImages(results.data);\r\n    };\r\n    \r\n    fetchData();\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    if (typeof props.location.state !== \"undefined\") {\r\n      setSearchReceived(true);\r\n    };  \r\n  }, [props.location.state]);\r\n\r\n  const emptyImages = () => {\r\n    if ( (images.length < 1) || ( (searchReceived) && (props.location.state.images.length < 1) ) ){\r\n      return true;\r\n    }else{\r\n      return false;\r\n    }\r\n  }\r\n  \r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Nav showCard={showAddCard}/>\r\n      <div className=\"images-container\">\r\n        {emptyImages() ? <div className=\"empty-images\">No images available yet 😑</div>: \"\"}\r\n        { searchReceived ? props.location.state.images.map(createImage) : images.map(createImage) }\r\n      </div>\r\n\r\n      {activeCard === \"add\" && <Card className=\"card\" heading=\"Add a new photo\" \r\n        label1=\"Label\" inputType1=\"text\" placeholder1=\"Add photo label e.g Food, Technology, Sports etc\"\r\n        showSecondInput={true}\r\n        label2=\"Photo URL\" inputType2=\"url\" placeholder2=\"https://images.unsplash.com/photo-1632475999234-a1c7f1511c31?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=870&q=80\"\r\n        showDiv={activeCard} closeDiv={hideCard}\r\n        btnTitle=\"Submit\" btnClass=\"green-btn\"\r\n      />}\r\n\r\n      {activeCard === \"delete\" && <Card className=\"card\" heading=\"Are you sure?\" \r\n        customStyle={{ top: `${distFromTop}px` }}\r\n        label1=\"Password\" inputType1=\"password\" placeholder1=\"Password\" \r\n        showSecondInput={false}\r\n        showDiv={activeCard} closeDiv={hideCard}\r\n        btnTitle=\"Delete\" btnClass=\"red-btn\" imageId={imageToDeleteId}\r\n      />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport Button from \"./Button\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useState } from \"react\";\r\n\r\nconst ShowImage = (props) => {\r\n    const history = useHistory();\r\n    const [activeImage, setActiveImage] = useState(true);\r\n\r\n    const isMobileDevice = useMediaQuery({query: \"(max-width: 767px)\"});\r\n    \r\n    const routeToHome = () => {history.push(\"/\")};\r\n\r\n    const expandImage = (e) =>{\r\n        const image = e.target;\r\n        \r\n        if (activeImage) {\r\n            image.classList.add(\"zoom-in\");    \r\n        }else{\r\n            image.classList.remove(\"zoom-in\");\r\n        }\r\n\r\n        setActiveImage( !activeImage );\r\n    };\r\n\r\n    return <div className=\"show-image\" style={ {position: \"relative\"} }>\r\n        {isMobileDevice && <div className=\"icons-container-small\"> <CloseIcon className=\"close-icon-small\" /> </div>}\r\n        \r\n        <div className=\"icons-container\">\r\n            <CloseIcon className=\"close-icon\" onClick={routeToHome} />\r\n            <Button className=\"download-btn green-btn\" mouseOver={true} forceDownload={true} content=\"Download\" \r\n            downloadLoc={props.location.state.imgSrc} target=\"_blank\" />\r\n        </div>\r\n\r\n        <div className=\"image-card\">\r\n            <figure>\r\n                <img src={props.location.state.imgSrc} \r\n                alt={props.location.state.label} onClick={expandImage}/>\r\n            </figure>\r\n        </div>\r\n    </div>   \r\n};\r\n\r\nexport default ShowImage","import React from 'react';\nimport Home from \"./Home\";\nimport ShowImage from \"./ShowImage\";\nimport {BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\n\nconst App = () => {\n  return(\n    <Router>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/images/image/:id\" component={ShowImage} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}