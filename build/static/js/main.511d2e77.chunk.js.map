{"version":3,"sources":["components/Search.js","components/Button.js","components/Nav.js","components/Label.js","components/Image.js","components/Card.js","validators/validator.js","components/Home.js","components/ShowImage.js","components/App.js","index.js"],"names":["Search","useState","inputText","setInputText","history","useHistory","searchImage","e","fetchImages","queryStr","a","axios","get","result","status","push","pathname","state","images","data","key","length","toUpperCase","slice","toLowerCase","target","classList","contains","parentNode","className","onClick","type","placeholder","onChange","value","onKeyDown","Button","props","onMouseOver","showBtn","onMouseOut","hideBtn","style","display","mouseOver","action","forceDownload","download","downloadLoc","href","content","Nav","isMouseOver","setMouseHovered","isMobileDevice","useMediaQuery","query","go","cursor","media","srcSet","src","alt","showCard","Label","showLabel","hideLabel","imgLabel","Image","isMouseHovered","handleIn","handleOut","customStyle","filter","width","objectFit","background","position","id","results","imageReceived","_id","imgSrc","img_url","label","fetchData","imageid","hidebtn","showDeleteCard","pageY","Card","firstInput","secondInput","ref","useRef","updateText","name","prevValue","postContent","routeToPostTo","contentToPost","post","qs","stringify","then","response","catch","err","console","log","validateContent","contentType","toast","error","hideProgressBar","pauseOnHover","autoClose","str","validUrl","isUri","image_url","checkUrlisValid","checkPassword","imageId","useEffect","document","addEventListener","closeCard","removeEventListener","current","closeDiv","heading","closeButton","label1","inputType1","placeholder1","required","showSecondInput","label2","inputType2","placeholder2","btnClass","btnTitle","closest","Home","defaults","baseURL","listToCheck","activeCard","setActiveCard","imageToDeleteId","setImageToDeleteId","setImages","distFromTop","setDistanceFromTop","setInputReceived","handleMouseIn","handleMouseOut","yPos","passedId","hideCard","location","map","image","showDiv","top","ShowImage","activeImage","setActiveImage","routeToHome","add","remove","App","exact","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.511d2e77.chunk.js","sourcesContent":["import React from 'react';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport axios from 'axios';\r\nimport { useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\n\r\nconst Search = () => {\r\n    const [inputText, setInputText] = useState(\"\");\r\n    const history = useHistory();\r\n    \r\n    const handleChange = (e) => { setInputText(e.target.value); }\r\n\r\n    const searchImage = (e) => {    // search for an image by its label and route back to home displaying the results\r\n        async function fetchImages(queryStr){\r\n            const result = await axios.get(`/images/s/image/${queryStr}`);\r\n            if (result.status === 200){\r\n                history.push({pathname: \"/\", state: {images: result.data } });\r\n            };\r\n        };\r\n\r\n        if ((e.key === \"Enter\") && (inputText.length > 0) ){\r\n            const formattedInputText = inputText[0].toUpperCase() + inputText.slice(1, inputText.length).toLowerCase();\r\n            fetchImages(formattedInputText);\r\n        }else if( (e.target.classList.contains(\"search-icon\") || e.target.parentNode.classList.contains(\"search-icon\")) && inputText.length > 0 ){\r\n            const formattedInputText = inputText[0].toUpperCase() + inputText.slice(1, inputText.length).toLowerCase();\r\n            fetchImages(formattedInputText);\r\n        };\r\n\r\n    };\r\n\r\n    return <div className=\"search-box-container\">\r\n        <div className=\"search-box\">\r\n            <SearchIcon className=\"search-icon\" onClick={searchImage} />\r\n            <input type=\"text\" placeholder=\"Search by name\" onChange={handleChange} value={inputText} onKeyDown={searchImage}></input>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\n\r\nconst Button = (props) => {\r\n\r\n    return <button \r\n    className={props.className} \r\n    onMouseOver={props.showBtn} \r\n    onMouseOut={props.hideBtn} \r\n    style={{display: props.mouseOver ? \"block\": \"none\"}}\r\n    onClick={props.action}\r\n    >\r\n        {props.forceDownload ? \r\n        <a download={props.downloadLoc} href={props.downloadLoc} target={props.target}> {props.content} </a> : \r\n        <p>{props.content}</p>}\r\n    </button>\r\n}\r\n\r\nexport default Button;","import React from 'react';\r\nimport Search from \"./Search\";\r\nimport Button from \"./Button\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport axios from \"axios\";\r\n\r\nconst Nav = (props) => {\r\n    const [isMouseOver, setMouseHovered] = useState(false);\r\n    const history = useHistory();\r\n\r\n    const handleIn = () =>{setMouseHovered(true)};\r\n    const handleOut = () =>{setMouseHovered(false)};\r\n\r\n    const isMobileDevice = useMediaQuery({query: \"(max-width: 767px)\"});\r\n    \r\n    const routeToHome = () => {\r\n        async function fetchImages(){\r\n            const result = await axios.get(\"/images/all\");\r\n            if (result.status === 200){\r\n                history.go(\"/\");\r\n            };\r\n        };\r\n        fetchImages();\r\n    };\r\n\r\n    return (\r\n        <nav>\r\n            <div className=\"header-box\">\r\n                <header onClick={routeToHome}>\r\n                    <picture style={{cursor: isMouseOver ? \"pointer\": \"default\"}} onMouseOver={handleIn} onMouseOut={handleOut}>\r\n                        <source media=\"(max-width: 767px)\" srcSet=\"images/my_unsplash_small_logo.svg 13x\" />\r\n                        <source media=\"(min-width: 768px)\" srcSet=\"images/my_unsplash_logo.svg\" />\r\n                        <img src=\"images/my_unsplash_logo.svg\" alt=\"Unsplash logo\" />\r\n                    </picture>\r\n\r\n                </header>\r\n                <Search />\r\n            </div>\r\n            <Button className=\"add-btn green-btn\" content={isMobileDevice ? \"+\": \"Add a photo\"} mouseOver={true} action={props.showCard} />\r\n        </nav>  \r\n    );\r\n\r\n};\r\n\r\nexport default Nav;","import React from 'react';\r\n\r\nconst Label = (props) => {  // label for the images\r\n    return <div style={{display: props.mouseOver ? \"block\": \"none\"}} className=\"image-label\" onMouseOver={props.showLabel} onMouseOut={props.hideLabel}>\r\n        <p>{props.imgLabel}</p>\r\n    </div>\r\n}\r\n\r\nexport default Label;","import React from 'react';\r\nimport { useState } from \"react\";\r\nimport Label from \"./Label\";\r\nimport Button from \"./Button\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst Image = (props) => {\r\n    const [isMouseHovered, setMouseHovered] = useState(false);\r\n    \r\n    const handleIn = () => { setMouseHovered(true); }\r\n    const handleOut = () => { setMouseHovered(false); }\r\n\r\n    const history = useHistory();\r\n\r\n    const showImage = () => {   // fetch an image from api by id and route to 'ShowImage' component to display it\r\n        async function fetchData() {\r\n            const results = await axios.get(`/images/image/${props.id}`)\r\n            if (results.status === 200) {\r\n                const imageReceived = results.data;\r\n                history.push({pathname: `/images/image/${imageReceived._id}`, state: {imgSrc: imageReceived.img_url, label: imageReceived.label} });\r\n            }\r\n        };\r\n        fetchData();\r\n    }\r\n\r\n    const customStyle = {\r\n        filter: isMouseHovered ? \"brightness(50%)\" : \"brightness(100%)\",\r\n        cursor : isMouseHovered ? \"zoom-in\" : \"default\",\r\n        width : \"100%\",\r\n        objectFit: \"cover\",\r\n        background: isMouseHovered ? \"linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7))\": \"transparent\"\r\n    }\r\n\r\n    return <figure style={{position: \"relative\"}}>\r\n        <img \r\n            className=\"image\" \r\n            src={props.src} \r\n            alt={props.alt} \r\n            style={customStyle}\r\n            onMouseOver={handleIn} \r\n            onMouseOut={handleOut}\r\n            onClick={showImage}    \r\n        />\r\n        \r\n        <Label mouseOver={isMouseHovered} showLabel={handleIn} hideLabel={handleOut} imgLabel={props.imgLabel}/>\r\n        <Button className=\"delete-btn\" content=\"Delete\" imageid={props.id} mouseOver={isMouseHovered} showBtn={handleIn} hidebtn={handleOut} action={(e) =>{ props.showDeleteCard(e.pageY - 20, props.id) }}/>\r\n    </figure> \r\n    \r\n}\r\n\r\nexport default Image;","import React, { useRef, useEffect } from 'react';\r\nimport { useState } from \"react\";\r\nimport Button from \"./Button\";\r\nimport axios from \"axios\";\r\nimport qs from \"qs\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {checkEmptyString, checkUrlisValid, checkPassword} from '../validators/validator';\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst Card = (props) => {\r\n    const history = useHistory();\r\n    const routeToHome = () => { history.go(\"/\"); }    // redirect back to homepage.\r\n\r\n    const [inputText, setInputText] = useState({firstInput: \"\", secondInput: \"\" });\r\n\r\n    const ref = useRef(null);\r\n\r\n    const updateText = (e) => { // update input text\r\n        const {name, value} = e.target;\r\n        setInputText(prevValue=>{\r\n            return{ ...prevValue, [name]: value }\r\n        });\r\n    };\r\n        \r\n    const postContent = (routeToPostTo, contentToPost) => {    // to post content using axios\r\n        axios.post(routeToPostTo, qs.stringify(contentToPost))\r\n        .then((response)=>{\r\n            if (response.status === 200){\r\n                routeToHome();\r\n            }\r\n        })\r\n        .catch((err)=>{console.log(err.response)});\r\n    };\r\n\r\n    const validateContent = (contentType) => { // function to validate the content that's inputted before it's posted\r\n        \r\n        if (contentType === \"newContent\") { // add a new image\r\n            if (!(checkEmptyString(inputText.firstInput)) && (checkUrlisValid(inputText.secondInput))){\r\n                postContent(\"/add\", inputText);\r\n            }else{\r\n                toast.error(\"Please enter a valid URL\", {position: \"top-center\", hideProgressBar: true, pauseOnHover:false, autoClose:3000})\r\n            };\r\n        } else if (contentType === \"deleteContent\") {   // delete an image\r\n            if (checkPassword(inputText.firstInput)){\r\n                postContent(\"/delete\", {id: props.imageId});\r\n            }else{\r\n                toast.error(\"Password is: password123\", {position: \"top-center\", hideProgressBar: true, pauseOnHover:false, autoClose:3000})\r\n            };\r\n        }\r\n        \r\n    };\r\n\r\n    const performAction = (e) => {  // validate content before posting\r\n        if(e.target.closest(\"button\").classList.contains(\"green-btn\")){   // green button: for adding new images\r\n            validateContent(\"newContent\");\r\n        }else{  // for deleting an image\r\n            validateContent(\"deleteContent\");\r\n        };\r\n    };\r\n\r\n    useEffect(() => {   // adding an eventlistener to detect clicks\r\n        document.addEventListener('click', closeCard, true);\r\n        return () => {\r\n            document.removeEventListener('click', closeCard, true);\r\n        };\r\n    });\r\n\r\n    const closeCard = (e) => {  // close this component\r\n        if ( (e.key === \"Escape\") || ( ref.current && !ref.current.contains(e.target) ) ) {\r\n            props.closeDiv();   \r\n        };\r\n    };\r\n\r\n    return <div className={props.className} style={props.customStyle} onKeyDown={closeCard} ref={ref}>\r\n        <h1>{props.heading}</h1>\r\n        <ToastContainer className=\"error-message\" autoClose={false} position=\"top-center\" closeButton={false} />\r\n        <label>\r\n            {props.label1}\r\n            <input type={props.inputType1} name=\"firstInput\" placeholder={props.placeholder1} required={true} value={inputText.firstInput} onChange={updateText} />\r\n        </label>\r\n        \r\n        <label style={{display: props.showSecondInput ? \"block\" : \"none\"}}>\r\n            {props.label2}\r\n            <input style={{display: props.showSecondInput ? \"block\" : \"none\"}} type={props.inputType2} name=\"secondInput\" placeholder={props.placeholder2} required={true} value={inputText.secondInput} onChange={updateText}/>\r\n        </label>\r\n        <div className=\"btns-container\">\r\n            <Button className=\"cancel-btn\" mouseOver={true} content=\"Cancel\" action={props.closeDiv}/>\r\n            <Button className={props.btnClass + \" submit-btn\"} mouseOver={true} content={props.btnTitle} action={performAction}/>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default Card;","import { toast } from 'react-toastify';\r\nimport validUrl from 'valid-url';\r\n\r\nconst checkEmptyString = (str) => {    // check that a label was entered\r\n    if (str === \"\") {\r\n        return toast.error(\"Please enter a label\", {position: \"top-center\", hideProgressBar: true, pauseOnHover:false, autoClose:4000});\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nconst checkUrlisValid = (str) => { // check validity of the url entered\r\n    if (validUrl.isUri(str)){\r\n        const image_url = new Image();  // creating a new image object to verify that the url is an actual image\r\n        image_url.src = str;\r\n        if (image_url.width > 0){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        };\r\n    }else{\r\n        return false;\r\n    }\r\n}\r\n\r\nconst checkPassword = (str) => {   // check password match\r\n    if (str === \"password123\") {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nconst emptyImages = (listToCheck) => { // function to check if there are currently no images\r\n    if (listToCheck.length < 1){\r\n      return true;\r\n    }else{\r\n      return false;\r\n    }\r\n};\r\n\r\nexport {checkEmptyString, checkUrlisValid, checkPassword, emptyImages};","import React from 'react';\r\nimport Nav from \"./Nav\";\r\nimport Image from \"./Image\";\r\nimport Card from \"./Card\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { emptyImages } from '../validators/validator';\r\n\r\n\r\nconst Home = (props) => {\r\n  axios.defaults.baseURL = \"https://my-unsplash-clone-app.herokuapp.com/\";\r\n\r\n  const [isMouseHovered, setMouseHovered] = useState(false);\r\n  const [activeCard, setActiveCard] = useState(\"none\");\r\n  const [imageToDeleteId, setImageToDeleteId] = useState(\"\");\r\n  const [images, setImages] = useState([]);\r\n  const [distFromTop, setDistanceFromTop] = useState(0);\r\n  \r\n  const inputReceived = useState(false);\r\n  const setInputReceived = inputReceived[1];\r\n\r\n  const handleMouseIn = () => { setMouseHovered(true); }\r\n\r\n  const handleMouseOut = () => { setMouseHovered(false); }\r\n\r\n  const showAddCard = () => { setActiveCard(\"add\"); } // show add card\r\n\r\n  const showDeleteCard = (yPos, passedId) => {  // show delete card relative to the position at which it was activated\r\n    setImageToDeleteId(passedId);\r\n    setDistanceFromTop(yPos);\r\n    setActiveCard(\"delete\");\r\n  }\r\n\r\n  const hideCard = () => { setActiveCard(\"none\"); } // hide card: either 'add' or 'delete'\r\n\r\n  const createImage = (image) => {\r\n    return <div className=\"image-box\" key={image._id}>\r\n      <Image id={image._id}\r\n        src={image.img_url} \r\n        alt={image.label}\r\n        imgLabel={image.label}\r\n        mouseOver= {isMouseHovered}\r\n        handleIn= {handleMouseIn}\r\n        handleOut={handleMouseOut}\r\n        showDeleteCard={showDeleteCard}\r\n      />\r\n    </div>\r\n  };\r\n\r\n  useEffect(() => { //  updates searchReceived state to true if props were passed to this component from another route and update images rendered\r\n    if (typeof props.location.state !== \"undefined\") {\r\n      setInputReceived(true);\r\n      setImages(props.location.state.images);\r\n    };  \r\n  }, [setInputReceived, props.location.state]);\r\n  \r\n\r\n  useEffect(() =>{  // fetch all images and update state\r\n    async function fetchData() {\r\n      await axios.get(\"/images/all\")\r\n      .then((response)=>{\r\n        if (response.status === 200) {\r\n          setImages(response.data);\r\n        }\r\n      })\r\n      .catch((err)=>{ console.log(err.response); });\r\n    };\r\n    \r\n    fetchData();\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Nav showCard={showAddCard}/>\r\n      <div className=\"images-container\">\r\n        {emptyImages(images) ? <div className=\"empty-images\">No images available yet 😑</div> : images.map(createImage) }\r\n      </div>\r\n\r\n      {/* SHOW ADD CARD */}\r\n      {activeCard === \"add\" && <Card className=\"card\" heading=\"Add a new photo\" \r\n        label1=\"Label\" inputType1=\"text\" placeholder1=\"Add photo label e.g Food, Technology, Sports etc\"\r\n        showSecondInput={true}\r\n        label2=\"Photo URL\" inputType2=\"url\" placeholder2=\"https://images.unsplash.com/photo-1632475999234-a1c7f1511c31?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=870&q=80\"\r\n        showDiv={activeCard} closeDiv={hideCard}\r\n        btnTitle=\"Submit\" btnClass=\"green-btn\"\r\n      />}\r\n\r\n      {/* SHOW DELETE CARD  */}\r\n      {activeCard === \"delete\" && <Card className=\"card\" heading=\"Are you sure?\" \r\n        customStyle={{ top: `${distFromTop}px` }}\r\n        label1=\"Password\" inputType1=\"password\" placeholder1=\"Password\" \r\n        showSecondInput={false}\r\n        showDiv={activeCard} closeDiv={hideCard}\r\n        btnTitle=\"Delete\" btnClass=\"red-btn\" imageId={imageToDeleteId}\r\n      />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport Button from \"./Button\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useState } from \"react\";\r\n\r\nconst ShowImage = (props) => {\r\n    const history = useHistory();\r\n    const [activeImage, setActiveImage] = useState(true);\r\n\r\n    const isMobileDevice = useMediaQuery({query: \"(max-width: 767px)\"});\r\n    \r\n    const routeToHome = () => {history.push(\"/\")};\r\n\r\n    const expandImage = (e) =>{\r\n        const image = e.target;\r\n        \r\n        if (activeImage) {\r\n            image.classList.add(\"zoom-in\");    \r\n        }else{\r\n            image.classList.remove(\"zoom-in\");\r\n        }\r\n\r\n        setActiveImage( !activeImage );\r\n    };\r\n\r\n    return <div className=\"show-image\" style={ {position: \"relative\"} }>\r\n        {isMobileDevice && <div className=\"icons-container-small\"> <CloseIcon className=\"close-icon-small\" onClick={routeToHome} /> </div>}\r\n        \r\n        <div className=\"icons-container\">\r\n            <CloseIcon className=\"close-icon\" onClick={routeToHome} />\r\n            <Button className=\"download-btn green-btn\" mouseOver={true} forceDownload={true} content=\"Download\" \r\n            downloadLoc={props.location.state.imgSrc} target=\"_blank\" />\r\n        </div>\r\n\r\n        <div className=\"image-card\">\r\n            <figure>\r\n                <img src={props.location.state.imgSrc} \r\n                alt={props.location.state.label} onClick={expandImage}/>\r\n            </figure>\r\n        </div>\r\n    </div>   \r\n};\r\n\r\nexport default ShowImage","import React from 'react';\nimport Home from \"./Home\";\nimport ShowImage from \"./ShowImage\";\nimport {BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\n\nconst App = () => {\n  return(\n    <Router>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/images/image/:id\" component={ShowImage} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}