(this["webpackJsonpmy-unsplash-clone"]=this["webpackJsonpmy-unsplash-clone"]||[]).push([[0],{91:function(e,t){},96:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(17),o=n.n(c),i=n(9),r=n.n(i),l=n(16),u=n(4),d=n(43),b=n.n(d),j=n(11),p=n.n(j),h=n(3),m=n(2),O=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],s=t[1],c=Object(h.f)(),o=function(e){function t(e){return a.apply(this,arguments)}function a(){return(a=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/images/s/image/".concat(t));case 2:200===(n=e.sent).status&&c.push({pathname:"/",state:{images:n.data}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if("Enter"===e.key&&n.length>0)t(n[0].toUpperCase()+n.slice(1,n.length).toLowerCase());else if((e.target.classList.contains("search-icon")||e.target.parentNode.classList.contains("search-icon"))&&n.length>0){t(n[0].toUpperCase()+n.slice(1,n.length).toLowerCase())}};return Object(m.jsx)("div",{className:"search-box-container",children:Object(m.jsxs)("div",{className:"search-box",children:[Object(m.jsx)(b.a,{className:"search-icon",onClick:o}),Object(m.jsx)("input",{type:"text",placeholder:"Search by name",onChange:function(e){s(e.target.value)},value:n,onKeyDown:o})]})})},f=function(e){return Object(m.jsx)("button",{className:e.className,onMouseOver:e.showBtn,onMouseOut:e.hideBtn,style:{display:e.mouseOver?"block":"none"},onClick:e.action,children:e.forceDownload?Object(m.jsxs)("a",{download:e.downloadLoc,href:e.downloadLoc,target:e.target,children:[" ",e.content," "]}):Object(m.jsx)("p",{children:e.content})})},g=n(20),x=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),s=n[0],c=n[1],o=Object(h.f)(),i=Object(g.useMediaQuery)({query:"(max-width: 767px)"});return Object(m.jsxs)("nav",{children:[Object(m.jsxs)("div",{className:"header-box",children:[Object(m.jsx)("header",{onClick:function(){function e(){return(e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/images/all");case 2:200===e.sent.status&&o.go("/");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},children:Object(m.jsxs)("picture",{style:{cursor:s?"pointer":"default"},onMouseOver:function(){c(!0)},onMouseOut:function(){c(!1)},children:[Object(m.jsx)("source",{media:"(max-width: 767px)",srcSet:"images/my_unsplash_small_logo.svg 13x"}),Object(m.jsx)("source",{media:"(min-width: 768px)",srcSet:"images/my_unsplash_logo.svg"}),Object(m.jsx)("img",{src:"images/my_unsplash_logo.svg",alt:"Unsplash logo"})]})}),Object(m.jsx)(O,{})]}),Object(m.jsx)(f,{className:"add-btn green-btn",content:i?"+":"Add a photo",mouseOver:!0,action:e.showCard})]})},v=function(e){return Object(m.jsx)("div",{style:{display:e.mouseOver?"block":"none"},className:"image-label",onMouseOver:e.showLabel,onMouseOut:e.hideLabel,children:Object(m.jsx)("p",{children:e.imgLabel})})},w=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),s=n[0],c=n[1],o=function(){c(!0)},i=function(){c(!1)},d=Object(h.f)(),b={filter:s?"brightness(50%)":"brightness(100%)",cursor:s?"zoom-in":"default",width:"100%",objectFit:"cover",background:s?"linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7))":"transparent"};return Object(m.jsxs)("figure",{style:{position:"relative"},children:[Object(m.jsx)("img",{className:"image",src:e.src,alt:e.alt,style:b,onMouseOver:o,onMouseOut:i,onClick:function(){function t(){return(t=Object(l.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("/images/image/".concat(e.id));case 2:200===(n=t.sent).status&&(a=n.data,d.push({pathname:"/images/image/".concat(a._id),state:{imgSrc:a.img_url,label:a.label}}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}}),Object(m.jsx)(v,{mouseOver:s,showLabel:o,hideLabel:i,imgLabel:e.imgLabel}),Object(m.jsx)(f,{className:"delete-btn",content:"Delete",imageid:e.id,mouseOver:s,showBtn:o,hidebtn:i,action:function(t){e.showDeleteCard(t.pageY-20,e.id)}})]})},y=n(21),N=n(28),C=n(44),S=n.n(C),k=n(18),L=(n(93),n(45)),I=n.n(L),D=function(e){var t=Object(h.f)(),n=Object(a.useState)({firstInput:"",secondInput:""}),s=Object(u.a)(n,2),c=s[0],o=s[1],i=Object(a.useRef)(null),r=function(e){var t=e.target,n=t.name,a=t.value;o((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(y.a)({},n,a))}))},l=function(e,n){p.a.post(e,S.a.stringify(n)).then((function(e){200===e.status&&t.go("/")})).catch((function(e){console.log(e.response)}))},d=function(t){"newContent"===t?""===c.firstInput&&k.b.error("Please enter a label",{position:"top-center",hideProgressBar:!0,pauseOnHover:!1,autoClose:4e3})||!function(e){if(I.a.isUri(e)){var t=new Image;return t.src=e,t.width>0}return!1}(c.secondInput)?k.b.error("Please enter a valid URL",{position:"top-center",hideProgressBar:!0,pauseOnHover:!1,autoClose:3e3}):l("/add",c):"deleteContent"===t&&(!function(e){return"password123"===e}(c.firstInput)?k.b.error("Password is: password123",{position:"top-center",hideProgressBar:!0,pauseOnHover:!1,autoClose:3e3}):l("/delete",{id:e.imageId}))};Object(a.useEffect)((function(){return document.addEventListener("click",b,!0),function(){document.removeEventListener("click",b,!0)}}));var b=function(t){("Escape"===t.key||i.current&&!i.current.contains(t.target))&&e.closeDiv()};return Object(m.jsxs)("div",{className:e.className,style:e.customStyle,onKeyDown:b,ref:i,children:[Object(m.jsx)("h1",{children:e.heading}),Object(m.jsx)(k.a,{className:"error-message",autoClose:!1,position:"top-center",closeButton:!1}),Object(m.jsxs)("label",{children:[e.label1,Object(m.jsx)("input",{type:e.inputType1,name:"firstInput",placeholder:e.placeholder1,required:!0,value:c.firstInput,onChange:r})]}),Object(m.jsxs)("label",{style:{display:e.showSecondInput?"block":"none"},children:[e.label2,Object(m.jsx)("input",{style:{display:e.showSecondInput?"block":"none"},type:e.inputType2,name:"secondInput",placeholder:e.placeholder2,required:!0,value:c.secondInput,onChange:r})]}),Object(m.jsxs)("div",{className:"btns-container",children:[Object(m.jsx)(f,{className:"cancel-btn",mouseOver:!0,content:"Cancel",action:e.closeDiv}),Object(m.jsx)(f,{className:e.btnClass+" submit-btn",mouseOver:!0,content:e.btnTitle,action:function(e){e.target.closest("button").classList.contains("green-btn")?d("newContent"):d("deleteContent")}})]})]})},M=function(e){p.a.defaults.baseURL="https://my-unsplash-clone-app.herokuapp.com/";var t,n=Object(a.useState)(!1),s=Object(u.a)(n,2),c=s[0],o=s[1],i=Object(a.useState)("none"),d=Object(u.a)(i,2),b=d[0],j=d[1],h=Object(a.useState)(""),O=Object(u.a)(h,2),f=O[0],g=O[1],v=Object(a.useState)([]),y=Object(u.a)(v,2),N=y[0],C=y[1],S=Object(a.useState)(0),k=Object(u.a)(S,2),L=k[0],I=k[1],M=Object(a.useState)(!1)[1],_=function(){o(!0)},B=function(){o(!1)},P=function(e,t){g(t),I(e),j("delete")},T=function(){j("none")};return Object(a.useEffect)((function(){"undefined"!==typeof e.location.state&&(M(!0),C(e.location.state.images))}),[M,e.location.state]),Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/images/all").then((function(e){200===e.status&&C(e.data)})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(x,{showCard:function(){j("add")}}),Object(m.jsx)("div",{className:"images-container",children:(t=N,t.length<1?Object(m.jsx)("div",{className:"empty-images",children:"No images available yet \ud83d\ude11"}):N.map((function(e){return Object(m.jsx)("div",{className:"image-box",children:Object(m.jsx)(w,{id:e._id,src:e.img_url,alt:e.label,imgLabel:e.label,mouseOver:c,handleIn:_,handleOut:B,showDeleteCard:P})},e._id)})))}),"add"===b&&Object(m.jsx)(D,{className:"card",heading:"Add a new photo",label1:"Label",inputType1:"text",placeholder1:"Add photo label e.g Food, Technology, Sports etc",showSecondInput:!0,label2:"Photo URL",inputType2:"url",placeholder2:"https://images.unsplash.com/photo-1632475999234-a1c7f1511c31?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=870&q=80",showDiv:b,closeDiv:T,btnTitle:"Submit",btnClass:"green-btn"}),"delete"===b&&Object(m.jsx)(D,{className:"card",heading:"Are you sure?",customStyle:{top:"".concat(L,"px")},label1:"Password",inputType1:"password",placeholder1:"Password",showSecondInput:!1,showDiv:b,closeDiv:T,btnTitle:"Delete",btnClass:"red-btn",imageId:f})]})},_=n(29),B=n.n(_),P=function(e){var t=Object(h.f)(),n=Object(a.useState)(!0),s=Object(u.a)(n,2),c=s[0],o=s[1],i=Object(g.useMediaQuery)({query:"(max-width: 767px)"}),r=function(){t.push("/")};return Object(m.jsxs)("div",{className:"show-image",style:{position:"relative"},children:[i&&Object(m.jsxs)("div",{className:"icons-container-small",children:[" ",Object(m.jsx)(B.a,{className:"close-icon-small",onClick:r})," "]}),Object(m.jsxs)("div",{className:"icons-container",children:[Object(m.jsx)(B.a,{className:"close-icon",onClick:r}),Object(m.jsx)(f,{className:"download-btn green-btn",mouseOver:!0,forceDownload:!0,content:"Download",downloadLoc:e.location.state.imgSrc,target:"_blank"})]}),Object(m.jsx)("div",{className:"image-card",children:Object(m.jsx)("figure",{children:Object(m.jsx)("img",{src:e.location.state.imgSrc,alt:e.location.state.label,onClick:function(e){var t=e.target;c?t.classList.add("zoom-in"):t.classList.remove("zoom-in"),o(!c)}})})})]})},T=n(46),E=function(){return Object(m.jsx)(T.a,{children:Object(m.jsxs)(h.c,{children:[Object(m.jsx)(h.a,{exact:!0,path:"/",component:M}),Object(m.jsx)(h.a,{exact:!0,path:"/images/image/:id",component:P})]})})};o.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.511d2e77.chunk.js.map